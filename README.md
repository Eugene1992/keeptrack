# keeptrack
### О Проекте
**keeptrack** - web-приложение для учета и планирования рабочего времени на проектах.

### Общая информация
- Исходники https://github.com/Eugene1992/keeptrack
- Рабочее демо http://ikeeptrack.herokuapp.com/login (т.к. хостинг бесплатный, при первом запросе подождите некоторое время пока приложение "поднимется")
- Описание https://github.com/Eugene1992/keeptrack#Описание-предметной-области
- User-cases 
- Пароли:
Администратор(ADMIN), username - admin, password - qwerty
Заказчик(CUSTOMER), username - customer, password - qwerty
Сотрудник(EMPLOYEE), username - employee, password - qwerty
Проект менеджер(PM), username - pmanager, password - qwerty

### Описание предметной области
Компания (Company)занимается разработкой программного обеспечения. Для заказчиков (Customer)выполняются проекты (Project). 
У проекта есть дата начала и окончания. Проект состоит из фаз (Sprint). Следующая фаза может начинаться только после завершение предыдущей. Фазы состоят из задач (Task). 
У задач есть прогнозируемое время выполнения в часах (Estimate). Руководитель (Project  Manager) назначает задачи сотрудникам (Employee), указывая дату и время выполнения.
Сотрудники подтверждают получение задачи, фиксируют ее выполнение (с фактическим временем выполнения).

### Роли
**Administrator** – создает в системе такие объекты как Employee, Customer, Project, назначает Project Manager.  
**Project Manager** – управляет проектом, создает фазы, задачи, назначает задачи сотрудникам.  
**Employee** – подтверждает получение задания, фиксирует факт выполнения задания, подает запрос об изменении времени выполнения.  
**Customer** – мониторит прогресс выполнения своего проекта.  

### Стек технологий
**Java:**
- Java 8 
- большая часть бизнесс-логики реализована с помощью Lambda, Stream API
- также для дат использовался Java 8 Date API

**Spring 4:**
- Spring Core
- Spring MVC
- Spring Security
- Spring Data JPA

**Build tools:**
- Maven
- Maven checkstyle plugin
- Maven PMD plugin
- Maven FindBugs

**Continuous Integration:**
- Travis CI (вышеуказанные плагины использовались в связке с данным CI) 

**WEB:**
- Spring MVC
- Java Servlet API
- JSP. JSTL
- HTML, CSS, JavaScript
- JQuery
- Bootstrap 3
- Apache Tiles

**JPA, ORM:**
- Spring Data JPA 
- DAO писать умею :), но т.к. одной из главных целей проекта было изучение Spring - решил использовать Spring Data JPA
- Hibernate 5

**Databases:**
- PostgreSQL - как основная БД
- HSQL - для тестирования

**Security, validation:**
- Spring security
- Spring security taglibs
- Hibernate validatior

**Testing:**
- JUnit 4
- Mockito
- Старался покрывать тестами как мог :)

**VCS:**
- Git + GitHub

**Deploy:**
- Heroku Cloud Application Platform

**ER-Diagram:**

![alt tag](http://s018.radikal.ru/i513/1702/ab/4481b829eede.png)
- так как таблица user в Postgres уже существует было выбрано имя app_user
- таблица app_user имеет поле role, которое и опеределяет фактическую роль пользователя в системе(администратор, проект менеджер, сотрудник, заказчик)
- app_user связан с task двумя связями 1 к 1 - кто создал задачу(creator_id) и на кого она была назначена(assigner_id)
- остальные связи очевидные - у проекта может быть много пользователей и спринтов(фаз), у спринта может быть много задач.

###Use-cases
- администратор имеет доступ к дэшбордам */dashboards* , на которых отображены: общее количество заказчиков, проектов, сотрудников, задач, последние нанятые сотрудники и созданные задачи
1) войдите в систему под ролью администратора (admin, qwerty)
2) в меню слева выберите пункт Dashboards

- администратор имеет доступ к CRUD операциям над проектами */projects* , пользователями  */users*, фазами  */sprints*, задачами */tasks*
1) войдите в систему под ролью администратора (admin, qwerty)
2) в меню слева выберите один из следующих пуектов, Users, Projects, Sprints, Tasks
3) при добавлении/изменении в случае введения некоректных данных, должна произойти валидация данных
4) при удалении система должна запросить подтверждение посредством всплывающего окна
5) также вы можете просматривать информацию вышеперечисленных сущностей в отдельных профилях - кропки Details
6) во всех меню работает pagination, возможность изменения количества показываемых элементов, поиска и сортировки по всем параметрам

- администратор может генерировать отчеты */reports* о проекте и пользователе в указанный промежуток времени. Отчет о проекте содержит в себе общую информацию о проекте, круговые диаграммы выполненных задач и фаз с опозданием и без него, список фаз проекта, список задач с такими дополнительными параметрами как отклонение от заданного времени выполнения, количество человеко-часов и продолжительность выполнения.
1) войдите в систему под ролью администратора (admin, qwerty)
2) в меню слева выберите пункт Reports
3) выберите тип отчета - по проекту или сотруднику в указанное время
4) в случае отчета по проекту выберите любой проект
5) в случае отчета по сотруднику - выберите, например, Matthew Holmes и временной интервал 2013-01-01 - 2013-04-01

- пользователь имеет доступ к профилю своего текущего проекта, где указана суммарная информация о проекте, его фазах, сотрудниках, задачах
1) войдите в систему под ролью сотрудника (employee, qwerty)
2) в меню слева выберите пункт Project
3) кликните по табам Summary, Employees, Sprints, Tasks и убедитесь в наличии информации 

- пользователь может просматривать закрепленные на него задачи (Assigned), выполняемые задачи (In progress), закрытые задачи (Closed), отклоненные задачи (Rejected)
1) войдите в систему под ролью сотрудника (employee, qwerty)
2) в меню слева выберите пункт Tasks
3) кликните по ссылке Assigned, вам будут показаны задачи, закрепленные на текущего пользователя или сообщение о их отсутствии
4) нажав на кнопку Accept, вы примете задачу и переведете ее в статус In progress
5) нажав на кнопку Reject, вы откажетесь от задачи и переведете ее в статус Rejected
6) кликните по ссылке In progress, вам будут показаны задачи, выполняемые пользователем в текущий момент или сообщение о их отсутствии
7) нажав на кнопку Close, вы закроете задачу и переведете ее в статус Closed
8) кликните по ссылке Rejected, вам будут показаны задачи от которых отказался текущий пользователь или сообщение о их отсутствии 

- проект менеджер имеет доступ к профилю своего текущего проекта, где указана суммарная информация о проекте, его фазах, сотрудниках, задачах, а также возможность добавлять новые фазы и задачи в свой проект
1) войдите в систему под ролью менеджера (pmanager, qwerty)
2) в меню слева выберите пункт Project
3) кликните по табам Summary, Employees, Sprints, Tasks и убедитесь в наличии информации
4) в меню Sprints нажмите на кнопку Add Sprint и введите данные новой фазы, после успешного создания данные в меню должны обновиться
5) в меню Tasks нажмите на кнопку Add Tasks и введите данные новой задачи, после успешного создания данные в меню должны обновиться

- заказчик имеет доступ к профилю своего текущего проекта, где указана суммарная информация о проекте, его фазах, сотрудниках, задачах
1) войдите в систему под ролью заказчика (customer, qwerty)
2) в меню слева выберите пункт Project
3) кликните по табам Summary, Employees, Sprints, Tasks и убедитесь в наличии информации

- заказчик имеет возможность отслеживать текущее состояние своего проекта
1) войдите в систему под ролью менеджера (customer, qwerty)
2) в меню слева выберите пункт Dashboards
3) должна быть показана информация о общем количетстве сотрудников, фаз, задач, диграммы задач и фаз по их статусам, progress-bar количества времени затраченного на проект